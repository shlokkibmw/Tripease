<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Settings | Travel Dashboard</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <link rel="stylesheet" href="sidebar.css">
  <style>
    :root {
      --primary: #4a6fa5;
      --secondary: #166088;
      --accent: #4fc3f7;
      --light: #f8f9fa;
      --dark: #343a40;
      --success: #28a745;
      --warning: #ffc107;
      --danger: #dc3545;
    }
    
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      margin: 0;
      padding: 0;
      background-color: #f5f5f5;
      color: #333;
    }
    
    /* header visuals are centralized in sidebar.css */
    header { display:flex; align-items:center; justify-content:space-between; }
    
    /* menu-toggle handled in sidebar.css (centralized) */
    
    header h1 {
      margin: 0;
      font-size: 20px;
      color: var(--secondary);
    }
    
    nav a {
      color: var(--secondary);
      text-decoration: none;
      display: flex;
      align-items: center;
      gap: 5px;
    }
    
    /* Sidebar */
    .sidebar {
      width: 250px;
      background-color: white;
      position: fixed;
      top: 0;
      left: 0;
      height: 100vh;
      box-shadow: 2px 0 10px rgba(0,0,0,0.1);
      transform: translateX(-100%);
      transition: transform 0.3s ease;
      z-index: 99;
      padding-top: 60px;
    }
    
    .sidebar.show {
      transform: translateX(0);
    }
    
    .sidebar-header {
      padding: 20px;
      text-align: center;
      border-bottom: 1px solid #eee;
    }
    
    .sidebar-header img {
      width: 80px;
      height: 80px;
      border-radius: 50%;
      object-fit: cover;
      margin-bottom: 10px;
    }
    
    .sidebar-header h3 {
      margin: 5px 0;
    }
    
    .sidebar-header p {
      margin: 0;
      color: var(--warning);
      font-size: 14px;
    }
    
    .sidebar ul {
      list-style: none;
      padding: 0;
      margin: 0;
    }
    
    .sidebar li a {
      display: flex;
      align-items: center;
      padding: 12px 20px;
      color: #555;
      text-decoration: none;
      transition: all 0.3s;
    }
    
    .sidebar li a:hover, .sidebar li a.active {
      background-color: rgba(74, 111, 165, 0.1);
      color: var(--primary);
    }
    
    .sidebar li a i {
      margin-right: 10px;
      width: 20px;
      text-align: center;
    }
    
    /* Main Content */
    .container {
      padding: 20px;
      margin-top: 60px;
    }
    
    /* Cards */
    .card {
      background-color: white;
      border-radius: 8px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
      padding: 20px;
      margin-bottom: 20px;
    }
    
    .card h3 {
      margin-top: 0;
      color: var(--secondary);
    }
    
    /* Settings Navigation */
    .settings-nav {
      display: flex;
      gap: 10px;
      margin-bottom: 20px;
      overflow-x: auto;
      padding-bottom: 10px;
    }
    
    .settings-nav button {
      padding: 10px 20px;
      border-radius: 20px;
      border: 1px solid #ddd;
      background-color: white;
      cursor: pointer;
      white-space: nowrap;
    }
    
    .settings-nav button.active {
      background-color: var(--primary);
      color: white;
      border-color: var(--primary);
    }
    
    /* Settings Content */
    .settings-content > div {
      display: none;
    }
    
    .settings-content > div.active {
      display: block;
    }
    
    /* Form Styles */
    .form-group {
      margin-bottom: 20px;
    }
    
    .form-group label {
      display: block;
      margin-bottom: 5px;
      font-weight: 500;
    }
    
    .form-group input, .form-group select, .form-group textarea {
      width: 100%;
      padding: 10px;
      border: 1px solid #ddd;
      border-radius: 5px;
      font-size: 14px;
    }
    
    .form-row {
      display: flex;
      gap: 15px;
      margin-bottom: 20px;
    }
    
    .form-row .form-group {
      flex: 1;
      margin-bottom: 0;
    }
    
    /* Toggle Switch */
    .toggle-switch {
      position: relative;
      display: inline-block;
      width: 50px;
      height: 24px;
    }
    
    .toggle-switch input {
      opacity: 0;
      width: 0;
      height: 0;
    }
    
    .slider {
      position: absolute;
      cursor: pointer;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: #ccc;
      transition: .4s;
      border-radius: 24px;
    }
    
    .slider:before {
      position: absolute;
      content: "";
      height: 18px;
      width: 18px;
      left: 3px;
      bottom: 3px;
      background-color: white;
      transition: .4s;
      border-radius: 50%;
    }
    
    input:checked + .slider {
      background-color: var(--primary);
    }
    
    input:checked + .slider:before {
      transform: translateX(26px);
    }
    
    .toggle-container {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 15px;
      padding-bottom: 15px;
      border-bottom: 1px solid #eee;
    }
    
    .toggle-info h4 {
      margin: 0 0 5px;
    }
    
    .toggle-info p {
      margin: 0;
      color: #666;
      font-size: 14px;
    }
    
    /* Buttons */
    .btn {
      padding: 10px 20px;
      border-radius: 5px;
      border: none;
      background-color: var(--primary);
      color: white;
      cursor: pointer;
      font-size: 14px;
      display: inline-flex;
      align-items: center;
      gap: 5px;
    }
    
    .btn:hover {
      opacity: 0.9;
    }
    
    .btn-outline {
      background-color: transparent;
      border: 1px solid var(--primary);
      color: var(--primary);
    }
    
    .btn-danger {
      background-color: var(--danger);
    }
    
    @media (max-width: 768px) {
      .form-row {
        flex-direction: column;
        gap: 0;
      }
    }
  </style>
</head>
<body>
  <header>
    <button id="menu-toggle" aria-label="Toggle Menu">&#9776;</button>
    <h1>Settings</h1>
    <nav>
      <a id="logout-btn" href="login.html"><i class="fas fa-sign-out-alt"></i> Logout</a>
    </nav>
  </header>

  <!-- Sidebar -->
  <!-- Sidebar (shared include) -->
  <div id="sidebar-placeholder"></div>
  <script>
    (async function(){
  const fallback = `<div id="sidebar" class="sidebar" aria-hidden="true">\n  <div class="sidebar-header">\n    <img src="harsh.jpg" alt="User Profile" class="profile-img">\n    <h3>Sujay Shetty</h3>\n    <p>Gold Member</p>\n  </div>\n  <ul>\n    <li><a href="home.html"><i class="fas fa-home"></i> Home</a></li>\n    <li><a href="profile.html"><i class="fas fa-user"></i> Profile</a></li>\n    <li><a href="mytrip.html"><i class="fas fa-suitcase"></i> My Trips</a></li>\n    <li><a href="heritage.html"><i class="fas fa-landmark"></i> Heritage Cloud</a></li>\n    <li><a href="help.html"><i class="fas fa-question-circle"></i> Help</a></li>\n    <li><a href="setting.html"><i class="fas fa-cog"></i> Settings</a></li>\n  </ul>\n</div>`;
      try{
        const res = await fetch('sidebar.html');
        if(!res.ok) throw new Error('Network response was not ok');
        const html = await res.text();
        const ph = document.getElementById('sidebar-placeholder');
        ph.insertAdjacentHTML('beforebegin', html);
        ph.remove();
      }catch(e){
        const ph = document.getElementById('sidebar-placeholder');
        ph.insertAdjacentHTML('beforebegin', fallback);
        ph.remove();
        console.warn('Loaded fallback sidebar due to fetch error:', e);
      }
      // set active link based on filename
      const current = (location.pathname.split('/').pop() || 'home.html').toLowerCase();
      document.querySelectorAll('#sidebar ul li a').forEach(a => {
        try{ if(a.getAttribute('href') && a.getAttribute('href').toLowerCase() === current) a.classList.add('active'); }catch(e){}
      });
    })();
  </script>

  <!-- Main Content -->
  <div class="container" id="main-content">
    <main id="settings-section">
      <!-- Settings Navigation -->
      <div class="settings-nav">
        <button class="active" data-target="account">Account</button>
        <button data-target="notifications">Notifications</button>
        <button data-target="privacy">Privacy & Security</button>
        <button data-target="preferences">Preferences</button>
        <button data-target="payment">Payment Methods</button>
      </div>
      
      <!-- Settings Content -->
      <div class="settings-content">
        <!-- Account Settings -->
        <div id="account" class="active">
          <section class="card">
            <h3>Profile Information</h3>
            
            <form>
              <div class="form-row">
                <div class="form-group">
                  <label for="first-name">First Name</label>
                  <input type="text" id="first-name" value="Sujay">
                </div>
                
                <div class="form-group">
                  <label for="last-name">Last Name</label>
                  <input type="text" id="last-name" value="Shetty">
                </div>
              </div>
              
              <div class="form-group">
                <label for="email">Email Address</label>
                <input type="email" id="email" value="Sujayshetty@example.com">
              </div>
              
              <div class="form-group">
                <label for="phone">Phone Number</label>
                <input type="tel" id="phone" value="+1 (555) 123-4567">
              </div>
              
              <div class="form-group">
                <label for="dob">Date of Birth</label>
                <input type="date" id="dob" value="1985-06-15">
              </div>
              
              <button type="submit" class="btn"><i class="fas fa-save"></i> Save Changes</button>
            </form>
          </section>
          
          <section class="card">
            <h3>Change Password</h3>
            
            <form>
              <div class="form-group">
                <label for="current-password">Current Password</label>
                <input type="password" id="current-password">
              </div>
              
              <div class="form-group">
                <label for="new-password">New Password</label>
                <input type="password" id="new-password">
              </div>
              
              <div class="form-group">
                <label for="confirm-password">Confirm New Password</label>
                <input type="password" id="confirm-password">
              </div>
              
              <button type="submit" class="btn"><i class="fas fa-key"></i> Update Password</button>
            </form>
          </section>
        </div>
        
        <!-- Notification Settings -->
        <div id="notifications">
          <section class="card">
            <h3>Notification Preferences</h3>
            
            <div class="toggle-container">
              <div class="toggle-info">
                <h4>Email Notifications</h4>
                <p>Receive important updates via email</p>
              </div>
              <label class="toggle-switch">
                <input type="checkbox" checked>
                <span class="slider"></span>
              </label>
            </div>
            
            <div class="toggle-container">
              <div class="toggle-info">
                <h4>SMS Notifications</h4>
                <p>Get text messages for urgent updates</p>
              </div>
              <label class="toggle-switch">
                <input type="checkbox">
                <span class="slider"></span>
              </label>
            </div>
            
            <div class="toggle-container">
              <div class="toggle-info">
                <h4>Promotional Offers</h4>
                <p>Receive special deals and discounts</p>
              </div>
              <label class="toggle-switch">
                <input type="checkbox" checked>
                <span class="slider"></span>
              </label>
            </div>
            
            <div class="toggle-container">
              <div class="toggle-info">
                <h4>Price Alerts</h4>
                <p>Get notified when prices drop for your saved routes</p>
              </div>
              <label class="toggle-switch">
                <input type="checkbox" checked>
                <span class="slider"></span>
              </label>
            </div>
            
            <div class="toggle-container">
              <div class="toggle-info">
                <h4>Travel Reminders</h4>
                <p>Receive reminders before your trips</p>
              </div>
              <label class="toggle-switch">
                <input type="checkbox" checked>
                <span class="slider"></span>
              </label>
            </div>
          </section>
        </div>
        
        <!-- Privacy & Security Settings -->
        <div id="privacy">
          <section class="card">
            <h3>Privacy Settings</h3>
            
            <div class="toggle-container">
              <div class="toggle-info">
                <h4>Data Sharing</h4>
                <p>Allow us to use your data to improve our services</p>
              </div>
              <label class="toggle-switch">
                <input type="checkbox">
                <span class="slider"></span>
              </label>
            </div>
            
            <div class="toggle-container">
              <div class="toggle-info">
                <h4>Personalized Ads</h4>
                <p>See ads tailored to your interests and travel preferences</p>
              </div>
              <label class="toggle-switch">
                <input type="checkbox">
                <span class="slider"></span>
              </label>
            </div>
            
            <div class="toggle-container">
              <div class="toggle-info">
                <h4>Search History</h4>
                <p>Save your search history for faster bookings</p>
              </div>
              <label class="toggle-switch">
                <input type="checkbox" checked>
                <span class="slider"></span>
              </label>
            </div>
          </section>
          
          <section class="card">
            <h3>Security</h3>
            
            <div class="toggle-container">
              <div class="toggle-info">
                <h4>Two-Factor Authentication</h4>
                <p>Add an extra layer of security to your account</p>
              </div>
              <label class="toggle-switch">
                <input type="checkbox">
                <span class="slider"></span>
              </label>
            </div>
            
            <div class="form-group">
              <label for="security-questions">Security Question</label>
              <select id="security-questions">
                <option>What was the name of your first pet?</option>
                <option>What city were you born in?</option>
                <option>What is your mother's maiden name?</option>
                <option>What was your first car model?</option>
              </select>
              <input type="text" placeholder="Your answer" style="margin-top: 10px;">
            </div>
            
            <button class="btn"><i class="fas fa-shield-alt"></i> Update Security Settings</button>
          </section>
        </div>
        
        <!-- Preferences Settings -->
        <div id="preferences">
          <section class="card">
            <h3>Travel Preferences</h3>
            
            <div class="form-group">
              <label for="currency">Preferred Currency</label>
              <select id="currency">
                <option>US Dollar (USD)</option>
                <option>Canadian Dollar (CAD)</option>
                <option>Swiss Franc (CHF)</option>
                <option>Chinese Yuan (CNY)</option>
                <option>Nepalese Rupee(NRS)</option>
                <option>Euro (EUR)</option>
                <option>British Pound (GBP)</option>
                <option>Japanese Yen (JPY)</option>
                <option>Australian Dollar (AUD)</option>
                <option>Indian Rupees (INR)</option>
              </select>
            </div>
                    
            <div class="form-group">
              <label for="temperature">Temperature Unit</label>
              <select id="temperature">
                <option>Fahrenheit (°F)</option>
                <option>Celsius (°C)</option>
              </select>
            </div>
            
            <h4>Seating Preferences</h4>
            <div class="form-group">
              <select>
                <option>No preference</option>
                <option>Aisle seat</option>
                <option>Window seat</option>
                <option>Extra legroom</option>
              </select>
            </div>
            
            <h4>Meal Preferences</h4>
            <div class="form-group">
              <select>
                <option>No preference</option>
                <option>Vegetarian</option>
                <option>Vegan</option>
                <option>Gluten-free</option>
                <option>Halal</option>
                <option>Kosher</option>
              </select>
            </div>
            
            <button class="btn"><i class="fas fa-save"></i> Save Preferences</button>
          </section>
        </div>
        
        <!-- Payment Methods Settings -->
        <div id="payment">
          <section class="card">
            <h3>Payment Methods</h3>
            
            <div class="payment-method">
              <div class="method-details">
                <i class="fas fa-credit-card"></i>
                <div>
                  <h4>Visa ending in 4567</h4>
                  <p>Expires 12/2024</p>
                </div>
              </div>
              <div class="method-actions">
                <button class="btn btn-outline">Edit</button>
                <button class="btn btn-outline" style="color: var(--danger); border-color: var(--danger);">Remove</button>
              </div>
            </div>
            
            <div class="payment-method">
              <div class="method-details">
                <i class="fab fa-paypal"></i>
                <div>
                  <h4>PayPal</h4>
                  <p>Sujayshetty@example.com</p>
                </div>
              </div>
              <div class="method-actions">
                <button class="btn btn-outline">Edit</button>
                <button class="btn btn-outline" style="color: var(--danger); border-color: var(--danger);">Remove</button>
              </div>
            </div>
            
            <button class="btn" style="margin-top: 20px;"><i class="fas fa-plus"></i> Add Payment Method</button>
          </section>
          
          <section class="card">
            <h3>Billing Address</h3>
            
            <form>
              <div class="form-group">
                <label for="address-line1">Address Line 1</label>
                <input type="text" id="address-line1" value="123 Main Street">
              </div>
              
              <div class="form-group">
                <label for="address-line2">Address Line 2 (Optional)</label>
                <input type="text" id="address-line2" value="Apt 4B">
              </div>
              
              <div class="form-row">
                <div class="form-group">
                  <label for="city">City</label>
                  <input type="text" id="city" value="New York">
                </div>
                
                <div class="form-group">
                  <label for="state">State/Province</label>
                  <input type="text" id="state" value="NY">
                </div>
              </div>
              
              <div class="form-row">
                <div class="form-group">
                  <label for="zip">ZIP/Postal Code</label>
                  <input type="text" id="zip" value="10001">
                </div>
                
                <div class="form-group">
                  <label for="country">Country</label>
                  <select id="country">
                    <option>United States</option>
                    <option>Canada</option>
                    <option>United Kingdom</option>
                    <option>Australia</option>
                    <option>Germany</option>
                  </select>
                </div>
              </div>
              
              <button type="submit" class="btn"><i class="fas fa-save"></i> Save Address</button>
            </form>
          </section>
        </div>
      </div>
    </main>
  </div>

  <script>
    // Toggle sidebar
    document.getElementById('menu-toggle').addEventListener('click', function() {
      document.getElementById('sidebar').classList.toggle('show');
    });
    
    // Settings navigation tabs
    const settingsNavButtons = document.querySelectorAll('.settings-nav button');
    const settingsContentSections = document.querySelectorAll('.settings-content > div');
    
    settingsNavButtons.forEach(button => {
      button.addEventListener('click', () => {
        const target = button.getAttribute('data-target');
        
        // Update active button
        settingsNavButtons.forEach(btn => btn.classList.remove('active'));
        button.classList.add('active');
        
        // Show target section
        settingsContentSections.forEach(section => {
          section.classList.remove('active');
          if (section.id === target) {
            section.classList.add('active');
          }
        });
      });
    });
  </script>
    <!-- Existing scripts... -->

  <script>
    // Load profile data into sidebar on page load
    (function() {
      function loadProfileToSidebar() {
        try {
          const profile = JSON.parse(localStorage.getItem('tripease_profile') || '{}');
          const sidebarProfileImg = document.getElementById('sidebar-profile-img');
          const sidebarUserName = document.getElementById('sidebar-user-name');
          const sidebarMemberStatus = document.getElementById('sidebar-member-status');
          
          if (sidebarUserName && profile.name) {
            sidebarUserName.textContent = profile.name;
          }
          if (sidebarMemberStatus && profile.status) {
            sidebarMemberStatus.textContent = profile.status;
          }
          if (sidebarProfileImg && profile.photo) {
            sidebarProfileImg.src = profile.photo;
          }
        } catch(e) {
          console.error('Error loading profile to sidebar:', e);
        }
      }
      
      // Load profile when page loads
      document.addEventListener('DOMContentLoaded', loadProfileToSidebar);
    })();
  </script>
</body>
</html>
